<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>CBCS - Logistics Company</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Logistics Company" name="keywords">
    <meta content="Logistics Company" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>
<style>

:root {
  --melorraOrange: #f05a00;
  --blueShade1: #2c3e50;
  --blueShade2: #34495e;
  --boxShadowLight1: 0 2rem 5rem rgba(0, 0, 0, 0.06);
  --boxShadowDark1: 0 2rem 6rem rgba(0, 0, 0, 0.3);
  --greyShade: #bdc3c7;
}

.order-track {
  margin-top: 2rem;
  padding: 0 1rem;
  border-top: 1px dashed var(--blueShade1);
  padding-top: 2.5rem;
  display: flex;
  flex-direction: column;
  transition: all .3s height 0.3s;
  transform-origin: top center;
}

.order-track-step {
  display: flex;
  height: 7rem;
}

.order-track-step:last-child {
  overflow: hidden;
  height: 4rem;
}

.order-track-step:last-child .order-track-status span:last-of-type {
  display: none;
}

.order-track-status {
  margin-right: 1.5rem;
  position: relative;
}

.order-track-status-dot {
  display: block;
  width: 2.2rem;
  height: 2.2rem;
  border-radius: 50%;
  background: var(--melorraOrange); /* Default to orange */
}

.order-track-status-line {
  display: block;
  margin: 0 auto;
  width: 2px;
  height: 7rem;
  background: var(--melorraOrange); /* Default to orange */
}

.order-track-text-stat {
  font-size: 1.3rem;
  font-weight: 500;
}

.order-track-text-sub {
  font-size: 1rem;
  font-weight: 300;
}


</style>
<body>
    <!-- Topbar Start -->
    <div class="container-fluid bg-dark">
        <div class="row py-2 px-lg-5">
            <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
                <div class="d-inline-flex align-items-center text-white">
                    <small><i class="fa fa-phone-alt mr-2"></i>+012 345 6789</small>
                    <small class="px-3">|</small>
                    <small><i class="fa fa-envelope mr-2"></i>info@cbcslogistics.com</small>
                </div>
            </div>

        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="container-fluid p-0">
        <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-lg-5">
            <a href="index.html" class="navbar-brand ml-lg-3">
                <h1 class="m-0 display-5 text-uppercase text-primary"><i class="fa fa-truck mr-2"></i>CBCS</h1>
            </a>
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between px-lg-3" id="navbarCollapse">
                <div class="navbar-nav m-auto py-0">
                    <a href="index.html" class="nav-item nav-link">Home</a>
                    <a href="about.html" class="nav-item nav-link">About</a>
                    <a href="service.html" class="nav-item nav-link">Service</a>
                    <a href="contact.html" class="nav-item nav-link">Contact</a>
                </div>
            </div>
        </nav>
    </div>
    <!-- Navbar End -->


    <!-- Header Start -->
    <div class="jumbotron jumbotron-fluid mb-5">
        <div class="container text-center py-5">
            <h1 class="text-white display-3">Tracking Details</h1>
            <!-- <div class="d-inline-flex align-items-center text-white">
                <p class="m-0"><a class="text-white" href="">Home</a></p>
                <i class="fa fa-circle px-3"></i>
                <p class="m-0">Tracking Details</p>
            </div> -->
        </div>
    </div>
    <!-- Header End -->


    <!-- About Start -->
    <div class="container-fluid py-5">
      <div class="container py-5 px-3">
          <figure>
              <figcaption>
                  <h4>Tracking Details</h4>
              </figcaption>
          </figure>
          <div class="order-track m-auto pb-4">
              <div class="order-track-step" id="order-received-step">
                  <div class="order-track-status">
                      <span class="order-track-status-dot"></span>
                      <span class="order-track-status-line"></span>
                  </div>
                  <div class="order-track-text">
                      <p class="order-track-text-stat">Order Received</p>
                      <span class="order-track-text-sub" id="order-received-date"></span>
                  </div>
              </div>
  
              <div class="order-track-step my-5" id="order-processed-step">
                  <div class="order-track-status">
                      <span class="order-track-status-dot"></span>
                      <span class="order-track-status-line"></span>
                  </div>
                  <div class="order-track-text">
                      <p class="order-track-text-stat" id="order-processed-add"></p>
                      <span class="order-track-text-sub" id="order-processed-date"></span>
                  </div>
              </div>
  
              <div id="stopover-steps" class="order-track-step">
                  <!-- Dynamic stopover steps will be inserted here -->
              </div>
  
              <div id="delivery-step" class="order-track-step">
                  <!-- Delivery Step will be inserted here -->
              </div>
          </div>
      </div>
  </div>
  
    <!-- About End -->


    <!-- Features Start -->
    <div class="container-fluid bg-secondary my-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-5">
                    <img class="img-fluid w-100" src="img/feature.jpg" alt="">
                </div>
                <div class="col-lg-7 py-5 py-lg-0">
                    <h6 class="text-primary text-uppercase font-weight-bold">Why Choose Us</h6>
                    <h1 class="mb-4">Faster, Safe and Trusted Logistics Services</h1>
                    <p class="mb-4">At our company, we prioritize speed, safety, and reliability. Our logistics solutions are designed to meet your needs efficiently while ensuring the secure transport of your goods. With advanced tracking systems and a dedicated team, we provide real-time updates and peace of mind throughout the shipping process.</p>
                    <ul class="list-inline">
                        <li><h6><i class="far fa-dot-circle text-primary mr-3"></i>Best In Industry</h6>
                        <li><h6><i class="far fa-dot-circle text-primary mr-3"></i>Emergency Services</h6></li>
                        <li><h6><i class="far fa-dot-circle text-primary mr-3"></i>24/7 Customer Support</h6></li>
                    </ul>
                    <a href="" class="btn btn-primary mt-3 py-2 px-4">Learn More</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Features End -->


    <!-- Team Start -->
    <!-- <div class="container-fluid pt-5">
        <div class="container">
            <div class="text-center pb-2">
                <h6 class="text-primary text-uppercase font-weight-bold">Delivery Team</h6>
                <h1 class="mb-4">Meet Our Delivery Team</h1>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-6">
                    <div class="team card position-relative overflow-hidden border-0 mb-5">
                        <img class="card-img-top" src="img/team-1.jpg" alt="">
                        <div class="card-body text-center p-0">
                            <div class="team-text d-flex flex-column justify-content-center bg-secondary">
                                <h5 class="font-weight-bold">Full Name</h5>
                                <span>Designation</span>
                            </div>
                            <div class="team-social d-flex align-items-center justify-content-center bg-primary">
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-twitter"></i></a>
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                                <a class="btn btn-outline-dark btn-social" href="#"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="team card position-relative overflow-hidden border-0 mb-5">
                        <img class="card-img-top" src="img/team-2.jpg" alt="">
                        <div class="card-body text-center p-0">
                            <div class="team-text d-flex flex-column justify-content-center bg-secondary">
                                <h5 class="font-weight-bold">Full Name</h5>
                                <span>Designation</span>
                            </div>
                            <div class="team-social d-flex align-items-center justify-content-center bg-primary">
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-twitter"></i></a>
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                                <a class="btn btn-outline-dark btn-social" href="#"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="team card position-relative overflow-hidden border-0 mb-5">
                        <img class="card-img-top" src="img/team-3.jpg" alt="">
                        <div class="card-body text-center p-0">
                            <div class="team-text d-flex flex-column justify-content-center bg-secondary">
                                <h5 class="font-weight-bold">Full Name</h5>
                                <span>Designation</span>
                            </div>
                            <div class="team-social d-flex align-items-center justify-content-center bg-primary">
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-twitter"></i></a>
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                                <a class="btn btn-outline-dark btn-social" href="#"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="team card position-relative overflow-hidden border-0 mb-5">
                        <img class="card-img-top" src="img/team-4.jpg" alt="">
                        <div class="card-body text-center p-0">
                            <div class="team-text d-flex flex-column justify-content-center bg-secondary">
                                <h5 class="font-weight-bold">Full Name</h5>
                                <span>Designation</span>
                            </div>
                            <div class="team-social d-flex align-items-center justify-content-center bg-primary">
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-twitter"></i></a>
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                                <a class="btn btn-outline-dark btn-social mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                                <a class="btn btn-outline-dark btn-social" href="#"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <!-- Team End -->


    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white mt-5 py-5 px-sm-3 px-md-5">
        <div class="row pt-5">
            <div class="col-lg-7 col-md-6">
                <div class="row">
                    <div class="col-md-6 mb-5">
                        <h3 class="text-primary mb-4">Get In Touch</h3>
                        <p><i class="fa fa-map-marker-alt mr-2"></i>1825 S 4700 W
SLC, UT 84104</p>
                        <p><i class="fa fa-phone-alt mr-2"></i>801.686.4800</p>
                        <p><i class="fa fa-envelope mr-2"></i>info@cbcslogistics.com</p>
                        <div class="d-flex justify-content-start mt-4">
                            <a class="btn btn-outline-light btn-social mr-2" href="#"><i class="fab fa-twitter"></i></a>
                            <a class="btn btn-outline-light btn-social mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-social mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                            <a class="btn btn-outline-light btn-social" href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                    <div class="col-md-6 mb-5">
                        <h3 class="text-primary mb-4">Quick Links</h3>
                        <div class="d-flex flex-column justify-content-start">
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Home</a>
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>About Us</a>
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Our Services</a>
                            <a class="text-white" href="#"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-5 col-md-6 mb-5">
                <h3 class="text-primary mb-4">Newsletter</h3>
                <p>Subscribe to receive the latest news, exclusive offers, and updates right to your inbox. Join our community and never miss out on what’s happening!</p>
                <div class="w-100">
                    <div class="input-group">
                        <input type="text" class="form-control border-light" style="padding: 30px;" placeholder="Your Email Address">
                        <div class="input-group-append">
                            <button class="btn btn-primary px-4">Sign Up</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid bg-dark text-white border-top py-4 px-sm-3 px-md-5" style="border-color: #3E3E4E !important;">
        <div class="row">
            <div class="col-lg-6 text-center text-md-left mb-3 mb-md-0">
                <p class="m-0 text-white">&copy; <a href="#">Cbcslogistics</a>. All Rights Reserved. 
				
				<!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
				Designed by <a href="#">CBCS Technology</a>
                </p>
            </div>
            <div class="col-lg-6 text-center text-md-right">
                <ul class="nav d-inline-flex">
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Privacy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Terms</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">FAQs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Help</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
</body>
<script>

// const trackingData = {
//     "trackingId": "ZQWAN",
//     "fromAddress": "132, My Street,: Bigtown BG23 4YZ: England.",
//     "deliveryAddress": "",
//     "fromDate": "2024-10-04T05:19:52.000Z",
//     "deliveryDate": null,
//     "trackingStatus": "complete", // Assume it's pending for now
//     "stopovers": [
//       "132, My Street,: Bigtown BG23 4YZ: England.",
//       "132, My Street,: Bigtown BG23 4YZ: France.",
//       "132, My Street,: Bigtown BG23 4YZ: Spain."
//     ]
//   };

function populateTrackingDetails() {
    // Retrieve the tracking details from session storage
  const trackingData = JSON.parse(sessionStorage.getItem('trackingDetails'));
  
  // Get references to relevant elements
  const fromDate = new Date(trackingData.fromDate).toLocaleDateString();
  const fromAdd = trackingData.fromAddress
  const stopoverStepsContainer = document.getElementById('stopover-steps');
  const deliveryStepContainer = document.getElementById('delivery-step');
  const deliveryStatus = document.getElementById('delivery-status');
  document.getElementById('order-processed-add').textContent = `Order left pickup location: ${fromAdd}`;
  document.getElementById('order-received-date').textContent = fromDate;
  document.getElementById('order-processed-date').textContent = fromDate;
  // Function to set the color of steps
  function setStepColor(stepId, color) {
    const step = document.getElementById(stepId);
    if (step) {
      step.querySelector('.order-track-status-dot').style.backgroundColor = color;
      step.querySelector('.order-track-status-line').style.backgroundColor = color;
    }
  }
  
  // Default grey step setup
  function setGreyStep(stepId) {
    setStepColor(stepId, '#bdc3c7'); // Grey color
  }
  
  // Orange step setup
  function setOrangeStep(stepId) {
    setStepColor(stepId, '#f05a00'); // Orange color
  }
  
  // Update Order Received and Order Processed with fromDate

  
  // Set the initial steps (Order Received and Order Processed) to orange
  setOrangeStep('order-received-step');
  setOrangeStep('order-processed-step');
  
  // Add stopover steps dynamically and handle color changes
  if (trackingData.stopovers.length > 0) {
    trackingData.stopovers.forEach((stopover, index) => {
      const stopOverDate = new Date(stopover.stopoverDate).toLocaleDateString();
      const stopoverStep = document.getElementById('stopover-steps');
      const deliveryoverStep = document.getElementById('delivery-step');
      stopoverStep.classList.add('order-track-step');
      stopoverStep.setAttribute('id', `stopover-step-${index}`);
      stopoverStep.innerHTML = `
        <div class="order-track-status">
          <span class="order-track-status-dot"></span>
          <span class="order-track-status-line"></span>
        </div>
        <div class="order-track-text">
          <p class="order-track-text-stat">Arrived at: ${stopover.stopoverAddress}</p>
          <span class="order-track-text-sub">${stopOverDate}</span>
        </div>
      `;
      
      // Append the stopover step to the container
      stopoverStepsContainer.appendChild(stopoverStep);
      
      // Set this stopover step to orange
      setOrangeStep(`stopover-step-${index}`);
      
      // If it's the last stopover, ensure delivery step appears with a grey line
      if (index === trackingData.stopovers.length - 1) {
        // Add grey line from last stopover to delivery
        const deliveryStep = document.createElement('div');
        deliveryStep.classList.add('order-track-step');
        deliveryStep.setAttribute('id', 'delivery-step');
        deliveryStep.innerHTML = `
          <div class="order-track-status">
            <span class="order-track-status-dot"></span>
            <span class="order-track-status-line"></span>
          </div>
          <div class="order-track-text">
            <p class="order-track-text-stat" id="delivery-status">'Order awaiting delivery</p>
            <span class="order-track-text-sub">Not Delivered Yet</span>
          </div>
        `;
        
        // Append the delivery step to the container
        deliveryoverStep.appendChild(deliveryStep);
        
        // Set grey for delivery step if tracking status is pending
        if (trackingData.trackingStatus !== 'Delivered') {
          setGreyStep('delivery-step');
          deliveryStatus.textContent = 'Order awaiting delivery';
        } else {
          setOrangeStep('delivery-step');
          deliveryStatus.textContent = 'Order Delivered';
        }
      }
    });
  } else {
    // If there are no stopovers, make delivery grey
    const deliveryStep = document.createElement('div');
    deliveryStep.classList.add('order-track-step');
    deliveryStep.setAttribute('id', 'delivery-step');
    deliveryStep.innerHTML = `
      <div class="order-track-status">
        <span class="order-track-status-dot"></span>
        <span class="order-track-status-line"></span>
      </div>
      <div class="order-track-text">
        <p class="order-track-text-stat" id="delivery-status">Order awaiting deliver</p>
        <span class="order-track-text-sub">Not Delivered Yet</span>
      </div>
    `;
  
    deliveryoverStep.appendChild(deliveryStep);
    setGreyStep('delivery-step');
    deliveryStatus.textContent = 'Order awaiting delivery';
  }
  
  // If trackingStatus is complete, update the delivery step to orange (this will indicate delivery is done)
  if (trackingData.trackingStatus === "complete") {
    setOrangeStep('delivery-step');
    deliveryStatus.textContent = 'Order Delivered';
  }
}
window.onload = function() {
    populateTrackingDetails();
};
  </script>
</html>
